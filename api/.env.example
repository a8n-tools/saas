# API Configuration
# Copy this file to .env and update the values
#
# This is the single source of truth for API environment variables.
# Docker Compose (compose.dev.yml) loads this file via env_file and
# overrides only Docker-specific values (e.g. DATABASE_URL hostname).

# =============================================================================
# Database
# =============================================================================
DATABASE_URL=postgres://a8n:devpassword@localhost:5432/a8n_platform

# =============================================================================
# Server
# =============================================================================
HOST=0.0.0.0
PORT=8080
RUST_LOG=debug
CORS_ORIGIN=http://localhost:5173
ENVIRONMENT=development
APP_URL=http://localhost:5173
APP_NAME=localhost

# =============================================================================
# JWT (generate with: openssl rand -base64 32)
# =============================================================================
JWT_SECRET=development-secret-key-min-32-chars-long!

# =============================================================================
# Cookies
# =============================================================================
# Leave empty for localhost in development, set to ".yourdomain.com" in production
COOKIE_DOMAIN=

# =============================================================================
# Stripe (get from Stripe Dashboard)
# =============================================================================
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
STRIPE_PRICE_ID=price_personal_xxx
STRIPE_BUSINESS_PRICE_ID=price_business_xxx
STRIPE_SUCCESS_URL=http://localhost:5173/checkout/success
STRIPE_CANCEL_URL=http://localhost:5173/pricing?checkout=canceled

# =============================================================================
# Email (SMTP)
# SMTP_TLS: "implicit" for port 465 (TLS from start), "starttls" for port 587
# =============================================================================
SMTP_HOST=
SMTP_PORT=465
SMTP_TLS=implicit
SMTP_FROM=noreply@localhost
SMTP_USERNAME=
SMTP_PASSWORD=
EMAIL_ENABLED=false

# =============================================================================
# Auto-Ban (suspicious request blocking)
# All optional â€” sensible defaults are built into the application.
# =============================================================================
# AUTO_BAN_ENABLED=true
# AUTO_BAN_THRESHOLD=5
# AUTO_BAN_WINDOW_SECS=3600
# AUTO_BAN_DURATION_SECS=86400
